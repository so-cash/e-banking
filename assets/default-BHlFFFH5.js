import{_ as W,V as z,a as j,b as q,c as O}from"./VContainer-jmM1OoKQ.js";import{p as C,m as H,a as L,g as P,u as I,c as a,b as G,t as N,d as J,e as K,s as _,f as m,h as Y,i as k,r as S,j as Q,w as x,o as D,k as X,l as Z,n as ee,q as te,v as ae,x as le,y as M,z as oe,A as se,B as ne,C as re,D as ie,E as p,V as ue,F as ce,G as de,H as ve,I as me,J as A,K as fe,L as ge,M as he}from"./index-DCXAqaCA.js";import{V as be,a as pe}from"./VInput-DPxD_2KL.js";import{V as ye}from"./VSpacer-CKZWWHes.js";import{V as _e,a as Ve}from"./VChip-nXHyrkOq.js";import{m as Se,a as Te,b as we,u as xe,c as Be,d as ke,e as Ce,V as Pe,f as R}from"./VCard-Cmd1jmLt.js";import"./VTextField-BMl2SHdI.js";const $=C({text:String,...H(),...L()},"VToolbarTitle"),F=P()({name:"VToolbarTitle",props:$(),setup(e,u){let{slots:t}=u;return I(()=>{const c=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[c&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Ie=[null,"prominent","default","comfortable","compact"],U=C({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ie.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Se(),...H(),...Te(),...we(),...L({tag:"header"}),...G()},"VToolbar"),E=P()({name:"VToolbar",props:U(),setup(e,u){var n;let{slots:t}=u;const{backgroundColorClasses:c,backgroundColorStyles:s}=xe(N(e,"color")),{borderClasses:o}=Be(e),{elevationClasses:f}=ke(e),{roundedClasses:d}=Ce(e),{themeClasses:g}=J(e),{rtlClasses:i}=K(),l=_(!!(e.extended||(n=t.extension)!=null&&n.call(t))),h=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),v=m(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Y({VBtn:{variant:"text"}}),I(()=>{var r;const b=!!(e.title||t.title),V=!!(t.image||e.image),B=(r=t.extension)==null?void 0:r.call(t);return l.value=!!(e.extended||B),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},c.value,o.value,f.value,d.value,g.value,i.value,e.class],style:[s.value,e.style]},{default:()=>[V&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(R,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Pe,{key:"image-img",cover:!0,src:e.image},null)]),a(R,{defaults:{VTabs:{height:k(h.value)}}},{default:()=>{var y,T,w;return[a("div",{class:"v-toolbar__content",style:{height:k(h.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(y=t.prepend)==null?void 0:y.call(t)]),b&&a(F,{key:"title",text:e.title},{text:t.title}),(T=t.default)==null?void 0:T.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(w=t.append)==null?void 0:w.call(t)])])]}}),a(R,{defaults:{VTabs:{height:k(v.value)}}},{default:()=>[a(be,null,{default:()=>[l.value&&a("div",{class:"v-toolbar__extension",style:{height:k(v.value)}},[B])]})]})]})}),{contentHeight:h,extensionHeight:v}}}),Ae=C({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Re(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=u;let c=0;const s=S(null),o=_(0),f=_(0),d=_(0),g=_(!1),i=_(!1),l=m(()=>Number(e.scrollThreshold)),h=m(()=>Q((l.value-o.value)/l.value||0)),v=()=>{const n=s.value;!n||t&&!t.value||(c=o.value,o.value="window"in n?n.pageYOffset:n.scrollTop,i.value=o.value<c,d.value=Math.abs(o.value-l.value))};return x(i,()=>{f.value=f.value||o.value}),x(g,()=>{f.value=0}),D(()=>{x(()=>e.scrollTarget,n=>{var V;const b=n?document.querySelector(n):window;b&&b!==s.value&&((V=s.value)==null||V.removeEventListener("scroll",v),s.value=b,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),X(()=>{var n;(n=s.value)==null||n.removeEventListener("scroll",v)}),t&&x(t,v,{immediate:!0}),{scrollThreshold:l,currentScroll:o,currentThreshold:d,isScrollActive:g,scrollRatio:h,isScrollingUp:i,savedScroll:f}}const Ne=C({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...U(),...Z(),...Ae(),height:{type:[Number,String],default:64}},"VAppBar"),Ee=P()({name:"VAppBar",props:Ne(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const c=S(),s=ee(e,"modelValue"),o=m(()=>{var y;const r=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:r.has("hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),f=m(()=>{const r=o.value;return r.hide||r.inverted||r.collapse||r.elevate||r.fadeImage||!s.value}),{currentScroll:d,scrollThreshold:g,isScrollingUp:i,scrollRatio:l}=Re(e,{canScroll:f}),h=m(()=>e.collapse||o.value.collapse&&(o.value.inverted?l.value>0:l.value===0)),v=m(()=>e.flat||o.value.elevate&&(o.value.inverted?d.value>0:d.value===0)),n=m(()=>o.value.fadeImage?o.value.inverted?1-l.value:l.value:void 0),b=m(()=>{var T,w;if(o.value.hide&&o.value.inverted)return 0;const r=((T=c.value)==null?void 0:T.contentHeight)??0,y=((w=c.value)==null?void 0:w.extensionHeight)??0;return r+y});te(m(()=>!!e.scrollBehavior),()=>{oe(()=>{o.value.hide?o.value.inverted?s.value=d.value>g.value:s.value=i.value||d.value<g.value:s.value=!0})});const{ssrBootStyles:V}=ae(),{layoutItemStyles:B}=le({id:e.name,order:m(()=>parseInt(e.order,10)),position:N(e,"location"),layoutSize:b,elementSize:_(void 0),active:s,absolute:N(e,"absolute")});return I(()=>{const r=E.filterProps(e);return a(E,M({ref:c,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":n.value,height:void 0,...V.value},e.style]},r,{collapse:h.value,flat:v.value}),t)}),{}}}),He=P()({name:"VAppBarTitle",props:$(),setup(e,u){let{slots:t}=u;return I(()=>a(F,M(e,{class:"v-app-bar-title"}),t)),{}}}),Le=he("img",{src:j,height:"70%"},null,-1),je=se({__name:"default",setup(e){const u=ne(),t=m(()=>u.currentWallet),c=S(0),s=S(0);S(!1);const o=de(),f=S(null);function d(i){o.push(i)}const g=async(i,l,h,v,n)=>(n?s.value--:s.value++,!0);return x(()=>u.currentWallet,async i=>{const l=u.dltApi();l&&i&&(l.setProcessingCallback(g),c.value=await l.walletBalance(i),console.log("wallet balance",c.value))}),D(async()=>{const i=ce();i.length==1&&(u.selectedProvider=i[0].info);const l=u.dltApi();if(!l){d("/wallets");return}l.setProcessingCallback(g),t.value?c.value=await l.walletBalance(t.value):re().path!="/wallets/new"&&d("/wallets"),f.value&&(u.walletPasswordComponent=f.value)}),(i,l)=>{const h=q,v=ve("RouterView"),n=O;return me(),ie(ue,null,{default:p(()=>[a(Ee,{elevation:2,app:""},{prepend:p(()=>[Le]),default:p(()=>[a(He,null,{default:p(()=>[A(" e-banking")]),_:1}),a(pe,{onClick:l[0]||(l[0]=b=>d("/"))},{default:p(()=>[A("Home")]),_:1}),a(ye),a(_e,{color:c.value==0?"red":"primary",onClick:l[1]||(l[1]=b=>d("/wallets"))},{default:p(()=>[A(fe(t.value||"no wallet created"),1)]),_:1},8,["color"])]),_:1}),a(W,{ref_key:"walletPassword",ref:f},null,512),a(Ve,{"model-value":s.value>0,class:"align-center justify-center",persistent:""},{default:p(()=>[a(h,{"model-value":s.value>0},null,8,["model-value"])]),_:1},8,["model-value"]),a(ge,null,{default:p(()=>[a(z,{fluid:"","ma-0":"","pa-0":"","fill-height":""},{default:p(()=>[a(v)]),_:1})]),_:1}),a(n)]),_:1})}}});export{je as default};
