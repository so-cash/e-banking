import{A as b,a_ as L,B as T,f as y,r as C,w as A,o as D,N as d,O as s,S as f,T as x,P as _,D as p,E as t,G as E,I as o,F as B,c as r,J as c,K as u,M as i}from"./index-DCXAqaCA.js";import{t as F}from"./formatting-B24v2g9C.js";import{g as v,h as G,i as w,k as M}from"./VCard-Cmd1jmLt.js";import{V as U}from"./VSwitch-DGVNkKi9.js";import{a as g}from"./VInput-DPxD_2KL.js";const $={key:0,class:"v-row"},I=["src"],J={key:1,class:"v-row"},K={class:"text-caption"},O=i("h3",null,"Create a new wallet",-1),Y=b({__name:"index",setup(R){L();const a=T(),W=E(),h=y(()=>a.wallets),V=C({}),N=y(()=>a.selectedProvider);C([]);function P(){a.currentWallet=void 0,W.push("/wallets/new")}A(N,async l=>{console.log("Selected provider",l.name),l&&(await a.loadWallets(),await k())});async function k(){const l=a.dltApi();if(l)for(const m of h.value)V.value[m.address]=await l.walletBalance(m.address)}function S(l){a.currentWallet=l}return D(async()=>{await a.loadWallets(),await k()}),(l,m)=>(o(),d(f,null,[s(B)().length!=1||!s(a).selectedProvider?(o(),d("div",$,[(o(!0),d(f,null,x(s(B)(),e=>{var n;return o(),p(v,{key:e.info.uuid,class:"mt-2 ml-2",elevation:"3",onClick:j=>s(a).selectedProvider=e.info,color:((n=s(a).selectedProvider)==null?void 0:n.uuid)==e.info.uuid?"primary":void 0},{default:t(()=>[r(G,null,{default:t(()=>[c(u(e.info.name),1)]),_:2},1024),r(w,{class:"d-flex"},{default:t(()=>[i("img",{src:e.info.icon,alt:"p.info.rdns",height:"42px",class:"mx-auto"},null,8,I)]),_:2},1024)]),_:2},1032,["onClick","color"])}),128))])):_("",!0),s(a).selectedProvider?(o(),d("div",J,[(o(!0),d(f,null,x(h.value,e=>(o(),p(v,{key:e.address,class:"mt-2 ml-2",elevation:"3"},{default:t(()=>[r(w,null,{default:t(()=>[i("h3",null,[c(u(e.attributes.name)+" ",1),i("span",K,u(e.address),1)]),i("p",null,"Balance: "+u(s(F)(V.value[e.address]))+" GWei",1),r(U,{modelValue:e.attributes.passwordLess,"onUpdate:modelValue":n=>e.attributes.passwordLess=n,label:"Biometric wallet",color:"primary",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),r(g,{color:"primary",onClick:n=>S(e.address),disabled:s(a).currentWallet===e.address},{default:t(()=>[c("Select")]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024))),128)),s(a).selectedProvider.supportNew?(o(),p(v,{key:0,class:"mt-2 ml-2",elevation:"3"},{default:t(()=>[r(w,null,{default:t(()=>[O]),_:1}),r(M,null,{default:t(()=>[r(g,{color:"primary",onClick:P},{default:t(()=>[c("New")]),_:1})]),_:1})]),_:1})):_("",!0)])):_("",!0)],64))}});export{Y as default};
