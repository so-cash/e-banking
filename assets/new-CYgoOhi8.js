import{r as g,U as h,c as i,G as v,y,C as B,w as m,x as o,v as r,d as n,B as c,aX as S}from"./index-C230S9Ee.js";import{j as U,g as _,h as P,i as T}from"./VCard-DZhx9bsj.js";import{V as k}from"./VTextField-BdebLfnr.js";import{V as N}from"./VSwitch-BxftQmJ3.js";import{a as W}from"./VInput-CG2HN8lq.js";const q={key:0},E=g({__name:"new",setup(R){const t=h(),w=i(()=>t.currentWallet),x=i(()=>t.webauthnSupported),u=v(""),d=v(""),s=v(!1),V=[a=>!!a||"Password is required",a=>a&&a.length>=8||"Password must be at least 8 characters"],f=[a=>!!a||"Username is required"],p=i(()=>f.every(a=>a(u.value)===!0)),b=i(()=>V.every(a=>a(d.value)===!0));async function C(a){if(!p.value){console.log("Username is not valid");return}let e;if(a)if(b.value)e=await t.createWallet(u.value,d.value),t.currentWallet=e;else{console.log("Password is not valid");return}else e=await t.createWallet(u.value),t.currentWallet=e}return(a,e)=>(r(),y("div",null,[w.value?(r(),y("h2",q,"You are using the wallet "+B(w.value),1)):(r(),m(U,{key:1,elevation:"0"},{default:o(()=>[n(_,null,{default:o(()=>[c("You do not have a wallet. Create one here")]),_:1}),n(P,null,{default:o(()=>[n(k,{type:"text",label:"wallet name",autocomplete:s.value?"webauthn":"username",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),rules:f},null,8,["autocomplete","modelValue"]),n(N,{label:"Biometric wallet",modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value=l),disabled:!x.value},null,8,["modelValue","disabled"]),s.value?S("",!0):(r(),m(k,{key:0,dense:"",type:"password",label:"password",autocomplete:s.value?"webauthn":"new-password",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),rules:V},null,8,["autocomplete","modelValue"]))]),_:1}),n(T,null,{default:o(()=>[s.value?(r(),m(W,{key:1,onClick:e[4]||(e[4]=l=>C(!1)),disabled:!p.value},{default:o(()=>[c("Create biometric Wallet")]),_:1},8,["disabled"])):(r(),m(W,{key:0,onClick:e[3]||(e[3]=l=>C(!0)),disabled:!p.value||!b.value},{default:o(()=>[c("Create Wallet with Password")]),_:1},8,["disabled"]))]),_:1})]),_:1}))]))}});export{E as default};
