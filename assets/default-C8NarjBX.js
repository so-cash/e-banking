import{_ as z,a as j,b as q,c as O}from"./WalletPassword.vue_vue_type_script_setup_true_lang-M8AegWQf.js";import{p as C,g as P,m as L,a as D,u as H,c as l,t as R,b as G,d as J,s as _,e as f,f as K,h as Y,i as k,r as T,j as Q,w as x,o as M,k as X,l as Z,n as ee,q as te,v as ae,x as le,y as W,z as oe,A as ne,B as se,C as re,D as ue,E as ie,F as y,V as ce,G as de,H as I,I as ve,J as me,K as fe,L as ge,M as he}from"./index-BI4dhWSs.js";import{V as be,a as pe}from"./VInput-BgACklH0.js";import{V as ye}from"./VSpacer-CKn7NL8b.js";import{V as Ve,a as Se}from"./VChip-j1TCQZRM.js";import{u as _e,a as Te,b as we,c as xe,m as Be,d as ke,e as Ce,V as Pe,f as A}from"./VCard-Ca1lIbYd.js";import{V as He}from"./VContainer-B8I2ih0P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VTextField-D8IjpR-w.js";/* empty css              */const $=C({text:String,...D(),...L()},"VToolbarTitle"),F=P()({name:"VToolbarTitle",props:$(),setup(e,i){let{slots:t}=i;return H(()=>{const d=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[d&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Ie=[null,"prominent","default","comfortable","compact"],U=C({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ie.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ce(),...D(),...ke(),...Be(),...L({tag:"header"}),...Y()},"VToolbar"),E=P()({name:"VToolbar",props:U(),setup(e,i){var g;let{slots:t}=i;const{backgroundColorClasses:d,backgroundColorStyles:s}=_e(R(e,"color")),{borderClasses:o}=Te(e),{elevationClasses:v}=we(e),{roundedClasses:u}=xe(e),{themeClasses:h}=G(e),{rtlClasses:c}=J(),a=_(!!(e.extended||(g=t.extension)!=null&&g.call(t))),m=f(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),b=f(()=>a.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return K({VBtn:{variant:"text"}}),H(()=>{var B;const r=!!(e.title||t.title),p=!!(t.image||e.image),S=(B=t.extension)==null?void 0:B.call(t);return a.value=!!(e.extended||S),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},d.value,o.value,v.value,u.value,h.value,c.value,e.class],style:[s.value,e.style]},{default:()=>[p&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(A,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(Pe,{key:"image-img",cover:!0,src:e.image},null)]),l(A,{defaults:{VTabs:{height:k(m.value)}}},{default:()=>{var n,V,w;return[l("div",{class:"v-toolbar__content",style:{height:k(m.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(n=t.prepend)==null?void 0:n.call(t)]),r&&l(F,{key:"title",text:e.title},{text:t.title}),(V=t.default)==null?void 0:V.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(w=t.append)==null?void 0:w.call(t)])])]}}),l(A,{defaults:{VTabs:{height:k(b.value)}}},{default:()=>[l(be,null,{default:()=>[a.value&&l("div",{class:"v-toolbar__extension",style:{height:k(b.value)}},[S])]})]})]})}),{contentHeight:m,extensionHeight:b}}}),Ae=C({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Re(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=i;let d=0,s=0;const o=T(null),v=_(0),u=_(0),h=_(0),c=_(!1),a=_(!1),m=f(()=>Number(e.scrollThreshold)),b=f(()=>Q((m.value-v.value)/m.value||0)),g=()=>{const r=o.value;if(!r||t&&!t.value)return;d=v.value,v.value="window"in r?r.pageYOffset:r.scrollTop;const p=r instanceof Window?document.documentElement.scrollHeight:r.scrollHeight;if(s!==p){s=p;return}a.value=v.value<d,h.value=Math.abs(v.value-m.value)};return x(a,()=>{u.value=u.value||v.value}),x(c,()=>{u.value=0}),M(()=>{x(()=>e.scrollTarget,r=>{var S;const p=r?document.querySelector(r):window;p&&p!==o.value&&((S=o.value)==null||S.removeEventListener("scroll",g),o.value=p,o.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),X(()=>{var r;(r=o.value)==null||r.removeEventListener("scroll",g)}),t&&x(t,g,{immediate:!0}),{scrollThreshold:m,currentScroll:v,currentThreshold:h,isScrollActive:c,scrollRatio:b,isScrollingUp:a,savedScroll:u}}const Ne=C({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...U(),...oe(),...Ae(),height:{type:[Number,String],default:64}},"VAppBar"),Ee=P()({name:"VAppBar",props:Ne(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const d=T(),s=Z(e,"modelValue"),o=f(()=>{var V;const n=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:n.has("hide"),fullyHide:n.has("fully-hide"),inverted:n.has("inverted"),collapse:n.has("collapse"),elevate:n.has("elevate"),fadeImage:n.has("fade-image")}}),v=f(()=>{const n=o.value;return n.hide||n.fullyHide||n.inverted||n.collapse||n.elevate||n.fadeImage||!s.value}),{currentScroll:u,scrollThreshold:h,isScrollingUp:c,scrollRatio:a}=Re(e,{canScroll:v}),m=f(()=>o.value.hide||o.value.fullyHide),b=f(()=>e.collapse||o.value.collapse&&(o.value.inverted?a.value>0:a.value===0)),g=f(()=>e.flat||o.value.fullyHide&&!s.value||o.value.elevate&&(o.value.inverted?u.value>0:u.value===0)),r=f(()=>o.value.fadeImage?o.value.inverted?1-a.value:a.value:void 0),p=f(()=>{var w,N;if(o.value.hide&&o.value.inverted)return 0;const n=((w=d.value)==null?void 0:w.contentHeight)??0,V=((N=d.value)==null?void 0:N.extensionHeight)??0;return m.value?u.value<h.value||o.value.fullyHide?n+V:n:n+V});ee(f(()=>!!e.scrollBehavior),()=>{te(()=>{m.value?o.value.inverted?s.value=u.value>h.value:s.value=c.value||u.value<h.value:s.value=!0})});const{ssrBootStyles:S}=ae(),{layoutItemStyles:B}=le({id:e.name,order:f(()=>parseInt(e.order,10)),position:R(e,"location"),layoutSize:p,elementSize:_(void 0),active:s,absolute:R(e,"absolute")});return H(()=>{const n=E.filterProps(e);return l(E,W({ref:d,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":r.value,height:void 0,...S.value},e.style]},n,{collapse:b.value,flat:g.value}),t)}),{}}}),Le=P()({name:"VAppBarTitle",props:$(),setup(e,i){let{slots:t}=i;return H(()=>l(F,W(e,{class:"v-app-bar-title"}),t)),{}}}),Ge=ne({__name:"default",setup(e){const i=se(),t=f(()=>i.currentWallet),d=T(0),s=T(0);T(!1);const o=de(),v=T(null);function u(c){o.push(c)}const h=async(c,a,m,b,g)=>(g?s.value--:s.value++,!0);return x(()=>i.currentWallet,async c=>{const a=i.dltApi();a&&c&&(a.setProcessingCallback(h),d.value=await a.walletBalance(c),console.log("wallet balance",d.value))}),M(async()=>{const c=re();c.length==1&&(i.selectedProvider=c[0].info);const a=i.dltApi();if(!a){u("/wallets");return}a.setProcessingCallback(h),t.value?d.value=await a.walletBalance(t.value):ue().path!="/wallets/new"&&u("/wallets"),v.value&&(i.walletPasswordComponent=v.value)}),(c,a)=>{const m=q,b=fe("RouterView"),g=O;return he(),ie(ce,null,{default:y(()=>[l(Ee,{elevation:2,app:""},{prepend:y(()=>a[2]||(a[2]=[me("img",{src:z,height:"70%"},null,-1)])),default:y(()=>[l(Le,null,{default:y(()=>a[3]||(a[3]=[I(" e-banking")])),_:1}),l(pe,{onClick:a[0]||(a[0]=r=>u("/"))},{default:y(()=>a[4]||(a[4]=[I("Home")])),_:1}),l(ye),l(Ve,{color:d.value==0?"red":"primary",onClick:a[1]||(a[1]=r=>u("/wallets"))},{default:y(()=>[I(ve(t.value||"no wallet created"),1)]),_:1},8,["color"])]),_:1}),l(j,{ref_key:"walletPassword",ref:v},null,512),l(Se,{"model-value":s.value>0,class:"align-center justify-center",persistent:""},{default:y(()=>[l(m,{"model-value":s.value>0},null,8,["model-value"])]),_:1},8,["model-value"]),l(ge,null,{default:y(()=>[l(He,{fluid:"","ma-0":"","pa-0":"","fill-height":""},{default:y(()=>[l(b)]),_:1})]),_:1}),l(g)]),_:1})}}});export{Ge as default};
