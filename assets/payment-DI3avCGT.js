import{_ as I,V as L,a as M,b as T,c as U}from"./VContainer-BU_q72eV.js";import{A,B as N,f as g,w as $,I as r,N as k,c as t,E as a,y as b,M as i,J as f,K as _,O as o,D as p,P as x,F as j,r as y,o as D,V as E,G as F,H as G,L as O}from"./index-grB62I5q.js";import{t as H}from"./formatting-B24v2g9C.js";import{V as B,a as S}from"./VSelect-B1rT8X6J.js";import{V as C}from"./VSpacer-IJYyzGlP.js";import{a as R}from"./VInput-Dl1nzYhv.js";import{V as J}from"./VAlert-DnJnE-n4.js";import{a as K}from"./VChip-CDuDY72a.js";import{g as Y,h as q,i as Q}from"./VCard-E6wXO2St.js";import"./VTextField-BU5C0kLP.js";const X=i("h4",null,"Select a wallet to use",-1),Z=["src"],ee={key:0},te={class:"d-flex"},ae={class:"text-caption mx-2"},le={key:0},se={class:"d-flex"},oe=i("span",null,"You have not created a wallet yet!",-1),ne=A({__name:"SelectWallet",setup(z){const e=N(),v=g(()=>j().map(s=>s.info)),u=g(()=>e.wallets),m=g(()=>e.selectedProvider);$(m,async s=>{console.log("Selected provider",s==null?void 0:s.name),s&&await e.loadWallets(!0)});function w(){window.open("/wallets/new","_blank")}return(s,c)=>(r(),k("div",null,[X,t(S,{items:o(v),"return-object":"","item-title":"name",modelValue:o(e).selectedProvider,"onUpdate:modelValue":c[0]||(c[0]=l=>o(e).selectedProvider=l)},{item:a(({item:l,props:V})=>[t(B,b(V,{title:""}),{default:a(()=>[i("div",null,[i("img",{src:l.raw.icon,alt:"p.info.rdns",height:"16px"},null,8,Z),f(" "+_(l.raw.name),1)])]),_:2},1040)]),_:1},8,["items","modelValue"]),o(e).selectedProvider?(r(),k("div",ee,[o(u).length>0?(r(),p(S,{key:0,items:o(u),"item-value":"address","item-title":"address","hide-no-data":"",modelValue:o(e).currentWallet,"onUpdate:modelValue":c[1]||(c[1]=l=>o(e).currentWallet=l)},{item:a(({item:l,props:V})=>[t(B,b(V,{title:""}),{default:a(()=>[i("div",te,[f(_(l.raw.attributes.name)+" ",1),i("span",ae,_(l.raw.address),1),t(C),l.raw.balance!==void 0?(r(),k("span",le,_(o(H)(l.raw.balance,0))+" GWei",1)):x("",!0)])]),_:2},1040)]),_:1},8,["items","modelValue"])):(r(),p(J,{key:1,type:"info",variant:"outlined",dense:""},{default:a(()=>[i("div",se,[oe,t(C),t(R,{size:"x-small",onClick:w},{default:a(()=>[f("try now...")]),_:1})])]),_:1}))])):x("",!0)]))}}),re=i("img",{src:M,height:"70%"},null,-1),ie={class:"text-caption mx-1"},ge=A({__name:"payment",setup(z){const e=N(),v=g(()=>e.currentWallet),u=y(0),m=y(0);y(!1),F();const w=y(null),s=async(d,n,P,W,h)=>(h?m.value--:m.value++,!0),c=g(()=>e.currentWallet&&e.selectedProvider);$(()=>e.currentWallet,async d=>{const n=e.dltApi();n&&d&&(n.setProcessingCallback(s),u.value=await n.walletBalance(d),console.log("wallet balance",u.value))});async function l(){const d=j();d.length==1&&(e.selectedProvider=d[0].info);const n=e.dltApi();n&&(n.setProcessingCallback(s),v.value&&(u.value=await n.walletBalance(v.value)),w.value&&(e.walletPasswordComponent=w.value))}function V(){e.selectedProvider=void 0,e.currentWallet=void 0}return D(async()=>{await l()}),(d,n)=>{const P=T,W=G("RouterView"),h=U;return r(),p(E,null,{default:a(()=>[t(I,{ref_key:"walletPassword",ref:w},null,512),t(K,{"model-value":m.value>0,class:"align-center justify-center",persistent:""},{default:a(()=>[t(P,{"model-value":m.value>0},null,8,["model-value"])]),_:1},8,["model-value"]),t(O,null,{default:a(()=>[t(L,{fluid:"","ma-0":"","pa-0":"","fill-height":"",class:"v-col-md-7 v-col-lg-5 justify-center align-center"},{default:a(()=>[t(Y,{class:"mb-3"},{default:a(()=>[t(q,{class:"d-flex justify-center"},{default:a(()=>[re]),_:1}),c.value?(r(),p(Q,{key:0,class:"row d-flex"},{default:a(()=>[f(" Using "),i("span",ie,_(v.value),1),f(" on "+_(o(e).selectedProvider.name)+" ",1),t(C),t(R,{outlined:"",size:"x-small",onClick:V},{default:a(()=>[f("change")]),_:1})]),_:1})):x("",!0)]),_:1}),c.value?(r(),p(W,{key:0})):(r(),p(ne,{key:1}))]),_:1})]),_:1}),t(h)]),_:1})}}});export{ge as default};
