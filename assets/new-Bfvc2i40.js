import{A as g,B,e as i,r as v,N as k,E as m,I as S,F as o,M as r,c as n,H as w,O as U}from"./index-B05TX0qr.js";import{g as N,h as P,i as T,k as q}from"./VCard-BkxKWA3b.js";import{V as y}from"./VTextField-D1q_Oj4g.js";import{V as A}from"./VSwitch-Bhx3Oa2Z.js";import{a as W}from"./VInput-Di4Kitpn.js";const E={key:0},I=g({__name:"new",setup(F){const t=B(),V=i(()=>t.currentWallet),x=i(()=>t.webauthnSupported),u=v(""),d=v(""),s=v(!1),f=[l=>!!l||"Password is required",l=>l&&l.length>=8||"Password must be at least 8 characters"],c=[l=>!!l||"Username is required"],p=i(()=>c.every(l=>l(u.value)===!0)),b=i(()=>f.every(l=>l(d.value)===!0));async function C(l){if(!p.value){console.log("Username is not valid");return}let e;if(l)if(b.value)e=await t.createWallet(u.value,d.value),t.currentWallet=e;else{console.log("Password is not valid");return}else e=await t.createWallet(u.value),t.currentWallet=e}return(l,e)=>(r(),k("div",null,[V.value?(r(),k("h2",E,"You are using the wallet "+S(V.value),1)):(r(),m(N,{key:1,elevation:"0"},{default:o(()=>[n(P,null,{default:o(()=>e[5]||(e[5]=[w("You do not have a wallet. Create one here")])),_:1}),n(T,null,{default:o(()=>[n(y,{type:"text",label:"wallet name",autocomplete:s.value?"webauthn":"username",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),rules:c},null,8,["autocomplete","modelValue"]),n(A,{label:"Biometric wallet",modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value=a),disabled:!x.value},null,8,["modelValue","disabled"]),s.value?U("",!0):(r(),m(y,{key:0,dense:"",type:"password",label:"password",autocomplete:s.value?"webauthn":"new-password",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),rules:f},null,8,["autocomplete","modelValue"]))]),_:1}),n(q,null,{default:o(()=>[s.value?(r(),m(W,{key:1,onClick:e[4]||(e[4]=a=>C(!1)),disabled:!p.value},{default:o(()=>e[7]||(e[7]=[w("Create biometric Wallet")])),_:1},8,["disabled"])):(r(),m(W,{key:0,onClick:e[3]||(e[3]=a=>C(!0)),disabled:!p.value||!b.value},{default:o(()=>e[6]||(e[6]=[w("Create Wallet with Password")])),_:1},8,["disabled"]))]),_:1})]),_:1}))]))}});export{I as default};
