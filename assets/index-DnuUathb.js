import{A as S,bf as L,B as A,e as y,r as x,w as T,o as E,N as i,O as f,P as l,S as p,R as B,E as v,F as a,G as F,M as r,C as g,c as n,H as c,I as m,J as u}from"./index-BEvEYfuX.js";import{t as G}from"./formatting-CrmIf10V.js";import{g as _,h as M,i as w,k as R}from"./VCard-XzuCdBBQ.js";import{V as U}from"./VSwitch-BctL_paP.js";import{a as h}from"./VInput-Do7IEnac.js";const $={key:0,class:"v-row"},D=["src"],H={key:1,class:"v-row"},I={class:"text-caption"},X=S({__name:"index",setup(J){L();const t=A(),W=F(),C=y(()=>t.wallets),V=x({}),b=y(()=>t.selectedProvider);x([]);function N(){t.currentWallet=void 0,W.push("/wallets/new")}T(b,async o=>{console.log("Selected provider",o.name),o&&(await t.loadWallets(),await k())});async function k(){const o=t.dltApi();if(o)for(const s of C.value)V.value[s.address]=await o.walletBalance(s.address)}function P(o){t.currentWallet=o}return E(async()=>{await t.loadWallets(),await k()}),(o,s)=>(r(),i(p,null,[l(g)().length!=1||!l(t).selectedProvider?(r(),i("div",$,[(r(!0),i(p,null,B(l(g)(),e=>{var d;return r(),v(_,{key:e.info.uuid,class:"mt-2 ml-2",elevation:"3",onClick:O=>l(t).selectedProvider=e.info,color:((d=l(t).selectedProvider)==null?void 0:d.uuid)==e.info.uuid?"primary":void 0},{default:a(()=>[n(M,null,{default:a(()=>[c(m(e.info.name),1)]),_:2},1024),n(w,{class:"d-flex"},{default:a(()=>[u("img",{src:e.info.icon,alt:"p.info.rdns",height:"42px",class:"mx-auto"},null,8,D)]),_:2},1024)]),_:2},1032,["onClick","color"])}),128))])):f("",!0),l(t).selectedProvider?(r(),i("div",H,[(r(!0),i(p,null,B(C.value,e=>(r(),v(_,{key:e.address,class:"mt-2 ml-2",elevation:"3"},{default:a(()=>[n(w,null,{default:a(()=>[u("h3",null,[c(m(e.attributes.name)+" ",1),u("span",I,m(e.address),1)]),u("p",null,"Balance: "+m(l(G)(V.value[e.address]))+" GWei",1),n(U,{modelValue:e.attributes.passwordLess,"onUpdate:modelValue":d=>e.attributes.passwordLess=d,label:"Biometric wallet",color:"primary",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),n(h,{color:"primary",onClick:d=>P(e.address),disabled:l(t).currentWallet===e.address},{default:a(()=>s[0]||(s[0]=[c("Select")])),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024))),128)),l(t).selectedProvider.supportNew?(r(),v(_,{key:0,class:"mt-2 ml-2",elevation:"3"},{default:a(()=>[n(w,null,{default:a(()=>s[1]||(s[1]=[u("h3",null,"Create a new wallet",-1)])),_:1}),n(R,null,{default:a(()=>[n(h,{color:"primary",onClick:N},{default:a(()=>s[2]||(s[2]=[c("New")])),_:1})]),_:1})]),_:1})):f("",!0)])):f("",!0)],64))}});export{X as default};
