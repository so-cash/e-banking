import{_ as j,V as q,a as O,b as G,c as J}from"./VContainer-B9FF6-Xp.js";import{p as C,m as D,a as M,g as P,u as H,c as a,b as K,t as R,d as Y,e as Q,s as _,f as v,h as X,i as k,r as S,j as Z,w as T,o as $,k as ee,l as te,n as ae,q as le,v as oe,x as se,y as F,z as ne,A as re,B as ue,C as ie,D as ce,E as y,V as de,F as ve,G as me,H as fe,I as ge,J as I,K as he,L as be,M as ye}from"./index-CIRuE6Ev.js";import{V as pe,a as _e}from"./VInput-ydNZH_eH.js";import{V as Ve}from"./VSpacer-DE81A2TY.js";import{V as Se,a as Te}from"./VChip-DMu4-il0.js";import{m as we,a as xe,b as Be,u as ke,c as Ce,d as Pe,e as He,V as Ie,f as N}from"./VCard-DiuvDllF.js";import"./VTextField-BwPcYAIh.js";import"./VSelectionControl-D3eUbmgi.js";const U=C({text:String,...D(),...M()},"VToolbarTitle"),W=P()({name:"VToolbarTitle",props:U(),setup(e,i){let{slots:t}=i;return H(()=>{const c=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[c&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Ne=[null,"prominent","default","comfortable","compact"],z=C({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ne.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...we(),...D(),...xe(),...Be(),...M({tag:"header"}),...K()},"VToolbar"),L=P()({name:"VToolbar",props:z(),setup(e,i){var r;let{slots:t}=i;const{backgroundColorClasses:c,backgroundColorStyles:s}=ke(R(e,"color")),{borderClasses:o}=Ce(e),{elevationClasses:f}=Pe(e),{roundedClasses:d}=He(e),{themeClasses:g}=Y(e),{rtlClasses:u}=Q(),l=_(!!(e.extended||(r=t.extension)!=null&&r.call(t))),h=v(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),m=v(()=>l.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return X({VBtn:{variant:"text"}}),H(()=>{var x;const b=!!(e.title||t.title),V=!!(t.image||e.image),w=(x=t.extension)==null?void 0:x.call(t);return l.value=!!(e.extended||w),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},c.value,o.value,f.value,d.value,g.value,u.value,e.class],style:[s.value,e.style]},{default:()=>[V&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(N,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Ie,{key:"image-img",cover:!0,src:e.image},null)]),a(N,{defaults:{VTabs:{height:k(h.value)}}},{default:()=>{var B,n,p;return[a("div",{class:"v-toolbar__content",style:{height:k(h.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(B=t.prepend)==null?void 0:B.call(t)]),b&&a(W,{key:"title",text:e.title},{text:t.title}),(n=t.default)==null?void 0:n.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(p=t.append)==null?void 0:p.call(t)])])]}}),a(N,{defaults:{VTabs:{height:k(m.value)}}},{default:()=>[a(pe,null,{default:()=>[l.value&&a("div",{class:"v-toolbar__extension",style:{height:k(m.value)}},[w])]})]})]})}),{contentHeight:h,extensionHeight:m}}}),Re=C({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ae(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=i;let c=0;const s=S(null),o=_(0),f=_(0),d=_(0),g=_(!1),u=_(!1),l=v(()=>Number(e.scrollThreshold)),h=v(()=>Z((l.value-o.value)/l.value||0)),m=()=>{const r=s.value;!r||t&&!t.value||(c=o.value,o.value="window"in r?r.pageYOffset:r.scrollTop,u.value=o.value<c,d.value=Math.abs(o.value-l.value))};return T(u,()=>{f.value=f.value||o.value}),T(g,()=>{f.value=0}),$(()=>{T(()=>e.scrollTarget,r=>{var V;const b=r?document.querySelector(r):window;b&&b!==s.value&&((V=s.value)==null||V.removeEventListener("scroll",m),s.value=b,s.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),ee(()=>{var r;(r=s.value)==null||r.removeEventListener("scroll",m)}),t&&T(t,m,{immediate:!0}),{scrollThreshold:l,currentScroll:o,currentThreshold:d,isScrollActive:g,scrollRatio:h,isScrollingUp:u,savedScroll:f}}const Ee=C({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...z(),...te(),...Re(),height:{type:[Number,String],default:64}},"VAppBar"),Le=P()({name:"VAppBar",props:Ee(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const c=S(),s=ae(e,"modelValue"),o=v(()=>{var p;const n=new Set(((p=e.scrollBehavior)==null?void 0:p.split(" "))??[]);return{hide:n.has("hide"),fullyHide:n.has("fully-hide"),inverted:n.has("inverted"),collapse:n.has("collapse"),elevate:n.has("elevate"),fadeImage:n.has("fade-image")}}),f=v(()=>{const n=o.value;return n.hide||n.fullyHide||n.inverted||n.collapse||n.elevate||n.fadeImage||!s.value}),{currentScroll:d,scrollThreshold:g,isScrollingUp:u,scrollRatio:l}=Ae(e,{canScroll:f}),h=v(()=>o.value.hide||o.value.fullyHide),m=v(()=>e.collapse||o.value.collapse&&(o.value.inverted?l.value>0:l.value===0)),r=v(()=>e.flat||o.value.fullyHide&&!s.value||o.value.elevate&&(o.value.inverted?d.value>0:d.value===0)),b=v(()=>o.value.fadeImage?o.value.inverted?1-l.value:l.value:void 0),V=v(()=>{var A,E;const n=Number(((A=c.value)==null?void 0:A.contentHeight)??e.height),p=Number(((E=c.value)==null?void 0:E.extensionHeight)??0);return h.value?d.value<g.value||o.value.fullyHide?n+p:n:n+p});le(v(()=>!!e.scrollBehavior),()=>{ne(()=>{h.value?o.value.inverted?s.value=d.value>g.value:s.value=u.value||d.value<g.value:s.value=!0})});const{ssrBootStyles:w}=oe(),{layoutItemStyles:x,layoutIsReady:B}=se({id:e.name,order:v(()=>parseInt(e.order,10)),position:R(e,"location"),layoutSize:V,elementSize:_(void 0),active:s,absolute:R(e,"absolute")});return H(()=>{const n=L.filterProps(e);return a(L,F({ref:c,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...x.value,"--v-toolbar-image-opacity":b.value,height:void 0,...w.value},e.style]},n,{collapse:m.value,flat:r.value}),t)}),B}}),De=P()({name:"VAppBarTitle",props:U(),setup(e,i){let{slots:t}=i;return H(()=>a(W,F(e,{class:"v-app-bar-title"}),t)),{}}}),Me=ye("img",{src:O,height:"70%"},null,-1),Ge=re({__name:"default",setup(e){const i=ue(),t=v(()=>i.currentWallet),c=S(0),s=S(0);S(!1);const o=me(),f=S(null);function d(u){o.push(u)}const g=async(u,l,h,m,r)=>(r?s.value--:s.value++,!0);return T(()=>i.currentWallet,async u=>{const l=i.dltApi();l&&u&&(l.setProcessingCallback(g),c.value=await l.walletBalance(u),console.log("wallet balance",c.value))}),$(async()=>{const u=ve();u.length==1&&(i.selectedProvider=u[0].info);const l=i.dltApi();if(!l){d("/wallets");return}l.setProcessingCallback(g),t.value?c.value=await l.walletBalance(t.value):ie().path!="/wallets/new"&&d("/wallets"),f.value&&(i.walletPasswordComponent=f.value)}),(u,l)=>{const h=G,m=fe("RouterView"),r=J;return ge(),ce(de,null,{default:y(()=>[a(Le,{elevation:2,app:""},{prepend:y(()=>[Me]),default:y(()=>[a(De,null,{default:y(()=>[I(" e-banking")]),_:1}),a(_e,{onClick:l[0]||(l[0]=b=>d("/"))},{default:y(()=>[I("Home")]),_:1}),a(Ve),a(Se,{color:c.value==0?"red":"primary",onClick:l[1]||(l[1]=b=>d("/wallets"))},{default:y(()=>[I(he(t.value||"no wallet created"),1)]),_:1},8,["color"])]),_:1}),a(j,{ref_key:"walletPassword",ref:f},null,512),a(Te,{"model-value":s.value>0,class:"align-center justify-center",persistent:""},{default:y(()=>[a(h,{"model-value":s.value>0},null,8,["model-value"])]),_:1},8,["model-value"]),a(be,null,{default:y(()=>[a(q,{fluid:"","ma-0":"","pa-0":"","fill-height":""},{default:y(()=>[a(m)]),_:1})]),_:1}),a(r)]),_:1})}}});export{Ge as default};
